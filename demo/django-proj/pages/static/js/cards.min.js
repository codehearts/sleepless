/*global jQuery *//*!	
* FitText.js 1.0
*
* Copyright 2011, Dave Rupert http://daverupert.com
* Released under the WTFPL license 
* http://sam.zoy.org/wtfpl/
*
* Date: Thu May 05 14:23:00 2011 -0600
*/(function(a){a.fn.fitText=function(b,c){var d={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};return this.each(function(){var e=a(this),f=b||1;c&&a.extend(d,c);var g=function(){e.css("font-size",Math.max(Math.min(e.width()/(f*10),parseFloat(d.maxFontSize)),parseFloat(d.minFontSize)))};g();a(window).resize(g)})}})(jQuery);(function(a){var b=a("#wrap").find(".card"),c=function(b){var c=b.children(),d=c.length,e=b.find("> .small-field"),f=e.length,g=b.parent(),h=b.width(),i=g.height(),j=g.hasClass("one-sided-card"),k=j?Math.pow(i/h/d,3.5):0,l=1+.2*(d-f-1+f*.5)-k,m,n;c.each(function(b,c){c=a(c);var e=c.text().length,g=Math.ceil(e/10),i=l,j=c.hasClass("small-field");console.log(k);e===1?i/=2.15+k:i/=1.15-Math.pow(g-1,1.5)/h*125+k;m=(.2-((d-f-1)*.0125-f*.00625))*h;n=j?14:18;if(k!==0){m*=1/Math.pow(g-.5,.75);e===1&&(m*=1.15)}if(j){i*=2+k;m*=.5}c.fitText(i,{minFontSize:n+"px",maxFontSize:m+"px"})})};b.length!==0&&b.each(function(b,d){d=a(d);var e=d.find("> .card-front"),f=d.find("> .card-back");c(e);f.length!==0&&c(f)})})(jQuery);