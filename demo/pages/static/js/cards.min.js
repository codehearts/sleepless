/*global jQuery *//*!	
* FitText.js 1.0
*
* Copyright 2011, Dave Rupert http://daverupert.com
* Released under the WTFPL license 
* http://sam.zoy.org/wtfpl/
*
* Date: Thu May 05 14:23:00 2011 -0600
*/(function(e){e.fn.fitText=function(t,n){var r={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};return this.each(function(){var i=e(this),s=t||1;n&&e.extend(r,n);var o=function(){i.css("font-size",Math.max(Math.min(i.width()/(s*10),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize)))};o();e(window).resize(o)})}})(jQuery);(function(e){var t=e("#wrap").find(".card"),n=function(t){var n=t.children(),r=n.length,i=t.find("> .small-field"),s=i.length,o=t.parent(),u=t.width(),a=o.height(),f=o.hasClass("one-sided-card"),l=f?Math.pow(a/u/r,3.5):0,c=1+.2*(r-s-1+s*.5)-l,h,p;n.each(function(t,n){n=e(n);var i=n.text().length,o=Math.ceil(i/10),a=c,f=n.hasClass("small-field");console.log(l);i===1?a/=2.15+l:a/=1.15-Math.pow(o-1,1.5)/u*125+l;h=(.2-((r-s-1)*.0125-s*.00625))*u;p=f?14:18;if(l!==0){h*=1/Math.pow(o-.5,.75);i===1&&(h*=1.15)}if(f){a*=2+l;h*=.5}n.fitText(a,{minFontSize:p+"px",maxFontSize:h+"px"})})},r=function(t){var n=t.children(),r=t.parent(),i=r.width()/500;n.each(function(t,n){n=e(n),fontSize=parseInt(n.css("font-size"),10);n.css("font-size",fontSize+fontSize*i)})};t.length!==0&&t.each(function(t,n){n=e(n);var i=n.find("> .card-front"),s=n.find("> .card-back");r(i);s.length!==0&&r(s)})})(jQuery);